// 성능 테스트용: 100개의 DiaryConversation 생성
// 실행: docker exec -i hand-mongodb-local mongosh hand_db -u hand_user -p hand1234 --authenticationDatabase admin < test-data-mongodb-100sessions.js

// 기존 데이터 정리
db.diary_conversations.deleteMany({ userId: NumberLong(1) });

// 100개 생성
const conversations = [];
const mongoIds = [
  '67863abc12345678901234a1','67863abc12345678901234a2','67863abc12345678901234a3','67863abc12345678901234a4','67863abc12345678901234a5',
  '67863abc12345678901234a6','67863abc12345678901234a7','67863abc12345678901234a8','67863abc12345678901234a9','67863abc12345678901234b0',
  '67863abc12345678901234b1','67863abc12345678901234b2','67863abc12345678901234b3','67863abc12345678901234b4','67863abc12345678901234b5',
  '67863abc12345678901234b6','67863abc12345678901234b7','67863abc12345678901234b8','67863abc12345678901234b9','67863abc12345678901234c0',
  '67863abc12345678901234c1','67863abc12345678901234c2','67863abc12345678901234c3','67863abc12345678901234c4','67863abc12345678901234c5',
  '67863abc12345678901234c6','67863abc12345678901234c7','67863abc12345678901234c8','67863abc12345678901234c9','67863abc12345678901234d0',
  '67863abc12345678901234d1','67863abc12345678901234d2','67863abc12345678901234d3','67863abc12345678901234d4','67863abc12345678901234d5',
  '67863abc12345678901234d6','67863abc12345678901234d7','67863abc12345678901234d8','67863abc12345678901234d9','67863abc12345678901234e0',
  '67863abc12345678901234e1','67863abc12345678901234e2','67863abc12345678901234e3','67863abc12345678901234e4','67863abc12345678901234e5',
  '67863abc12345678901234e6','67863abc12345678901234e7','67863abc12345678901234e8','67863abc12345678901234e9','67863abc12345678901234f0',
  '67863abc12345678901234f1','67863abc12345678901234f2','67863abc12345678901234f3','67863abc12345678901234f4','67863abc12345678901234f5',
  '67863abc12345678901234f6','67863abc12345678901234f7','67863abc12345678901234f8','67863abc12345678901234f9',

  // g0~g9 -> 00~09
  '67863abc1234567890123400','67863abc1234567890123401','67863abc1234567890123402','67863abc1234567890123403','67863abc1234567890123404',
  '67863abc1234567890123405','67863abc1234567890123406','67863abc1234567890123407','67863abc1234567890123408','67863abc1234567890123409',

  // h0~h9 -> 10~19
  '67863abc1234567890123410','67863abc1234567890123411','67863abc1234567890123412','67863abc1234567890123413','67863abc1234567890123414',
  '67863abc1234567890123415','67863abc1234567890123416','67863abc1234567890123417','67863abc1234567890123418','67863abc1234567890123419',

  // i0~i9 -> 20~29
  '67863abc1234567890123420','67863abc1234567890123421','67863abc1234567890123422','67863abc1234567890123423','67863abc1234567890123424',
  '67863abc1234567890123425','67863abc1234567890123426','67863abc1234567890123427','67863abc1234567890123428','67863abc1234567890123429',

  // j0~j9 -> 30~39
  '67863abc1234567890123430','67863abc1234567890123431','67863abc1234567890123432','67863abc1234567890123433','67863abc1234567890123434',
  '67863abc1234567890123435','67863abc1234567890123436','67863abc1234567890123437','67863abc1234567890123438','67863abc1234567890123439',

  // k0 -> 40
  '67863abc1234567890123440'
];


for (let i = 0; i < 100; i++) {
    conversations.push({
        _id: ObjectId(mongoIds[i]),
        userId: NumberLong(1),
        sessionDate: new Date(new Date().setHours(0, 0, 0, 0)),
        questions: [
            {
                questionNumber: 1,
                questionText: '오늘 하루는 어떠셨나요?',
                source: 'POOL',
                answerText: '피곤했지만 괜찮았어요.',
                answeredAt: new Date()
            },
            {
                questionNumber: 2,
                questionText: '그 중 가장 기억에 남는 순간이 있나요?',
                source: 'GMS',
                answerText: '저녁에 친구들과 통화한 게 좋았어요.',
                answeredAt: new Date()
            },
            {
                questionNumber: 3,
                questionText: '통화하면서 어떤 기분이 드셨나요?',
                source: 'GMS',
                answerText: '외롭지 않고 행복했어요.',
                answeredAt: new Date()
            },
            {
                questionNumber: 4,
                questionText: '내일은 어떤 하루를 보내고 싶으신가요?',
                source: 'GMS',
                answerText: '오늘처럼 좋은 하루를 보내고 싶어요.',
                answeredAt: new Date()
            },
            {
                questionNumber: 5,
                questionText: '마지막으로 하고 싶은 말이 있나요?',
                source: 'GMS',
                answerText: '오늘도 수고했어요.',
                answeredAt: new Date()
            }
        ],
        createdAt: new Date(),
        updatedAt: new Date(),
        _class: 'com.finger.hand_backend.diary.entity.DiaryConversation'
    });
}

db.diary_conversations.insertMany(conversations);

// 확인
print('생성된 대화 수:', db.diary_conversations.countDocuments({ userId: NumberLong(1) }));
